<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Na'PLACE</title>
  <meta name="description" content="경기북과학고 Na'PLACE — 수학·정보 기반 동아리">
  <style>
    :root{
      --brand:#3b82f6; --brand-dark:#1e40af;
      --bg:#f8fafc; --fg:#0f172a; --muted:#475569; --card:#ffffff;
      --radius:16px; --shadow:0 6px 20px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Pretendard',-apple-system,BlinkMacSystemFont,system-ui,Roboto,sans-serif;background:var(--bg);color:var(--fg);line-height:1.6}
    a{color:inherit;text-decoration:none}
    header{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid #e2e8f0}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
    .nav{height:64px;display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--brand-dark)}
    .brand img{width:28px;height:28px;object-fit:contain}
    nav a{margin-left:20px;color:var(--muted);font-weight:600}
    nav a:hover{color:var(--brand)}
    main{max-width:1100px;margin:0 auto;padding:40px 20px}
    section{margin:72px 0}
    .hero{text-align:center;padding:90px 20px 60px}
    .hero-title{display:inline-flex;gap:12px;align-items:center;justify-content:center;flex-wrap:wrap}
    .hero h1{font-size:clamp(30px,5vw,52px);font-weight:800;color:var(--brand-dark);margin:0}
    .logo-large{width:44px;height:44px;object-fit:contain}
    .hero p{color:var(--muted);font-size:18px;margin:12px 0 28px}
    .btn{display:inline-block;background:var(--brand);color:#fff;padding:12px 18px;border-radius:12px;font-weight:700;border:1px solid transparent;transition:background .25s,transform .2s}
    .btn:hover{background:var(--brand-dark);transform:translateY(-2px)}
    .cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:18px}
    .card{background:var(--card);padding:18px;border-radius:var(--radius);box-shadow:var(--shadow);border:1px solid #e5e7eb}
    .card h3{margin:0 0 8px;color:var(--brand-dark)}
    .card p{margin:0 0 12px;color:var(--muted);font-size:14px;word-break:break-all}
    ul.clean{margin:0;padding-left:18px}
    ul.clean li{margin:.35rem 0}
    footer{background:#fff;border-top:1px solid #e2e8f0;text-align:center;padding:28px;color:#64748b;font-size:14px}
    @media (prefers-color-scheme: dark){
      :root{--bg:#0f172a;--fg:#f1f5f9;--card:#1e293b;--muted:#94a3b8}
      header,footer{background:#1e293b}
      .card{border-color:#334155}
    }
    .hidden{display:none!important}
    /* Poster embed */
    .poster{ margin-top:20px; border:1px solid #e5e7eb; border-radius:12px; overflow:hidden; background:#fff; box-shadow:var(--shadow); }
    .poster object{ width:100%; height:70vh; display:block; }
    .poster .fallback{ padding:12px 14px; color:var(--muted); font-size:14px; }
    @media (max-width:640px){ .poster object{ height:60vh; } }
    /* n8n lead block */
    .n8n-lead{ text-align:center; margin:10px 0 18px; }
    .n8n-lead img{ width:auto; height:160px; object-fit:contain; display:block; margin:0 auto 8px; }
    /* Section fade-up animation */
    .fade-in{ animation: fadeUp .38s ease-out both; }
    @keyframes fadeUp{
      from{ opacity:0; transform: translateY(12px); }
      to{ opacity:1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="brand" href="#hero">
        <img src="assets/naplace-logo.png" alt="Na'PLACE 로고">
        Na'PLACE
      </a>
      <nav>
        <a href="#club">동아리 설명</a>
        <a href="#servers">n8n</a>
        <a href="#contact">연락</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- 히어로 -->
    <section id="hero" class="hero">
      <div class="hero-title">
        <h1>Na'PLACE</h1>
      </div>
      <p>수학·정보기반으로 여러 프로젝트를 진행하는 동아리입니다.</p>
      <div style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;">
        <a class="btn" href="#club">동아리 정보</a>
        <a class="btn" href="#servers">n8n 서버</a>
        <a class="btn" href="#contact">연락</a>
      </div>
    </section>

    <!-- 동아리 설명 (서술형) -->
    <section id="club">
      <h2>동아리 설명</h2>
      <h3 style="font-size:1.6rem;color:var(--brand-dark);margin-top:10px;">수학을 기반으로 정보과학 등을 융합적으로 탐구해요.</h3>
      <div class="cards" style="margin-top:16px">
        <article class="card">
          <h3>21기 구성원</h3>
          <ul class="clean">
            <li><strong>담당교사:</strong> 홍창욱</li>
            <li><strong>기장:</strong> 김주한</li>
            <li><strong>부기장:</strong> 정선재</li>
            <li><strong>부원:</strong> 백종원, 이윤형, 이현준, 이준서</li>
          </ul>
        </article>
      </div>
      <div class="cards" style="margin-top:16px">
        <article class="card">
          <h3>20기 구성원</h3>
          <ul class="clean">
            <li><strong>담당교사:</strong> 옥민석</li>
            <li><strong>기장:</strong> 최요한</li>
            <li><strong>부기장:</strong> 김지후</li>
            <li><strong>부원:</strong> 김민준, 우지민, 박기륜</li>
          </ul>
        </article>
      </div>
      <div class="cards" style="margin-top:16px">
        <article class="card">
          <h3>2025년 활동</h3>
          <p style="font-size:1.2rem;color:var(--muted);margin-top:10px;">[공사중]</p>
        </article>
      </div>
    </section>

    <!-- n8n 서버 4개 (단순 버튼) -->
    <section id="servers">
      <h2>n8n 서버 바로가기</h2>
      <div class="n8n-lead">
        <img src="assets/n8n.png" alt="n8n 로고">
        <p class="muted">나플라스 소유 오픈소스 워크플로 자동화 도구 n8n서버입니다. 아래 버튼을 눌러 각 서버로 이동할 수 있습니다.</p>
      </div>
      <div class="cards">
        <article class="card">
          <h3>server1</h3>
          <p>https://www.server1.naplace-n8n.org</p>
          <a class="btn" href="https://www.server1.naplace-n8n.org" target="_blank" rel="noopener">열기</a>
        </article>
        <article class="card">
          <h3>server2</h3>
          <p>https://www.server2.naplace-n8n.org</p>
          <a class="btn" href="https://www.server2.naplace-n8n.org" target="_blank" rel="noopener">열기</a>
        </article>
        <article class="card">
          <h3>server3</h3>
          <p>https://www.server3.naplace-n8n.org</p>
          <a class="btn" href="https://www.server3.naplace-n8n.org" target="_blank" rel="noopener">열기</a>
        </article>
        <article class="card">
          <h3>server4</h3>
          <p>https://www.server4.naplace-n8n.org</p>
          <a class="btn" href="https://www.server4.naplace-n8n.org" target="_blank" rel="noopener">열기</a>
        </article>
      </div>
    </section>

    <!-- 연락 -->
    <section id="contact">
      <h2>연락</h2>
      <ul class="clean">
        <li><strong>이메일:</strong> <a href="mailto:naplace1234@gmail.com">naplace1234@gmail.com</a></li>
        <li><strong>인스타그램:</strong> <a href="https://instagram.com/na.place__official" target="_blank" rel="noopener">@na.place__official</a></li>
      </ul>
    </section>
  </main>

  <footer>
    © <span id="year"></span> Na'PLACE — All Rights Reserved
  </footer>

  <script>
    // Single-section view controller
    document.addEventListener('DOMContentLoaded', () => {
      const sections = Array.from(document.querySelectorAll('main > section'));

      function showOnly(id){
        sections.forEach(sec => {
          if(id === 'all'){
            sec.classList.remove('hidden');
          }else{
            (sec.id === id) ? sec.classList.remove('hidden') : sec.classList.add('hidden');
          }
        });
        window.scrollTo({ top: 0, behavior: 'smooth' });
        // Fade-up animation on the newly shown section
        if (id && id !== 'all') {
          const shown = document.getElementById(id);
          if (shown) {
            shown.classList.remove('fade-in'); // reset if previously applied
            void shown.offsetWidth;            // reflow to restart animation
            shown.classList.add('fade-in');
            shown.addEventListener('animationend', () => shown.classList.remove('fade-in'), { once: true });
          }
        }
        if (id && id !== 'all') history.replaceState(null, '', '#' + id);
      }

      // Initial: if hash exists use it, otherwise show hero only
      const initialId = (location.hash || '').replace('#','') || 'hero';
      if (document.getElementById(initialId)) showOnly(initialId); else showOnly('hero');

      // Intercept internal hash links (e.g., #intro, #club, #servers, #contact)
      document.addEventListener('click', (e) => {
        const a = e.target.closest('a[href]');
        if (!a) return;
        const href = a.getAttribute('href');

        // Allow external links (http/https), mailto, tel as-is
        if (/^(https?:|mailto:|tel:)/i.test(href)) return;

        if (href.startsWith('#')) {
          const id = href.slice(1) || 'intro';
          const target = document.getElementById(id);
          if (target) {
            e.preventDefault();
            showOnly(id);
          }
        }
      });

      // Reflect browser back/forward
      window.addEventListener('hashchange', () => {
        const id = (location.hash || '').replace('#','') || 'hero';
        if (document.getElementById(id)) showOnly(id);
      });

      // Footer year
      const y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>
