<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>좌석 예약 | GBS STUDY CAFE</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="study-cafe.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <header>
        <div class="container" style="justify-content: center;">
            <a href="index.html" class="logo">GBS STUDY CAFE</a>
        </div>
    </header>

    <main style="padding-top: var(--header-height);">
        <div class="container">
            <div class="booking-container">
                <!-- ... (rest of the file) ... -->
                <div class="modal" id="warningModal">
                    <div class="modal-content" style="border-color: var(--error-color);">
                        <i class="fa-solid fa-circle-exclamation modal-icon" style="color: var(--error-color);"></i>
                        <h2>예약 실패</h2>
                        <p>한 번에 하나의 좌석만 예약할 수 있습니다.<br>기존 예약을 취소한 후 다시 시도해주세요.</p>
                        <button type="button" class="btn btn-outline"
                            onclick="document.getElementById('warningModal').classList.remove('active')"
                            style="border-color: var(--text-secondary); color: var(--text-secondary);">닫기</button>
                        <button type="button" class="btn btn-primary" onclick="window.cancelBooking()"
                            style="margin-top: 10px; width: 100%; background: var(--error-color); border: none;">기존 예약
                            취소하기</button>
                    </div>
                </div>

                <script src="study-cafe.js"></script>
</body>
<!-- Left Column: Seat Map -->
<section class="glass-panel seat-map-section">
    <h2 class="section-title" style="margin-bottom: 30px; text-align: left;">좌석 선택</h2>

    <div class="seat-legend">
        <div class="legend-item">
            <div class="legend-dot legend-available"></div>
            <span>예약 가능</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot legend-selected"></div>
            <span>선택됨</span>
        </div>
        <div class="legend-item">
            <div class="legend-dot legend-occupied"></div>
            <span>이용중</span>
        </div>
    </div>

    <div class="seat-map" id="seatMap">
        <!-- Seats will be generated by JS -->
    </div>
</section>

<!-- Right Column: Controls & Summary -->
<aside class="glass-panel booking-controls">
    <div class="booking-summary">
        <h3>예약 정보</h3>
        <div class="summary-item">
            <span>날짜</span>
            <span id="summaryDate">오늘</span>
        </div>
        <div class="summary-item">
            <span>좌석</span>
            <span id="summarySeat">-</span>
        </div>

        <button id="confirmBtn" type="button" class="btn btn-primary" style="width: 100%; margin-top: 20px;" disabled>예약
            확정</button>
    </div>
</aside>
</div>

<!-- My Booking Section -->
<section id="myBookingSection" class="glass-panel"
    style="margin-top: 40px; padding: 30px; display: none; text-align: center; animation: fadeIn 0.5s ease-out;">
    <h2 class="section-title" style="margin-bottom: 20px; font-size: 1.5rem;">내 예약 정보</h2>
    <div id="myBookingContent" style="margin-bottom: 20px; font-size: 1.1rem; color: var(--text-primary);">
        <!-- Booking info will be injected here -->
    </div>
    <button type="button" class="btn btn-primary" onclick="window.cancelBooking()"
        style="background: var(--error-color); box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);">예약
        취소하기</button>
</section>
</div>
</main>

<!-- Success Modal -->
<div class="modal" id="successModal">
    <div class="modal-content">
        <i class="fa-solid fa-circle-check modal-icon"></i>
        <h2>예약 확정!</h2>
        <p>좌석 예약이 완료되었습니다.</p>
        <button type="button" class="btn btn-primary" onclick="location.reload()">확인</button>
    </div>
</div>

<!-- Warning Modal -->
<div class="modal" id="warningModal">
    <div class="modal-content" style="border-color: var(--error-color);">
        <i class="fa-solid fa-circle-exclamation modal-icon" style="color: var(--error-color);"></i>
        <h2>예약 실패</h2>
        <p>한 번에 하나의 좌석만 예약할 수 있습니다.<br>기존 예약을 취소한 후 다시 시도해주세요.</p>
        <button type="button" class="btn btn-outline"
            onclick="document.getElementById('warningModal').classList.remove('active')"
            style="border-color: var(--text-secondary); color: var(--text-secondary);">닫기</button>
        <button type="button" class="btn btn-primary" onclick="window.cancelBooking()"
            style="margin-top: 10px; width: 100%; background: var(--error-color); border: none;">기존 예약 취소하기</button>
    </div>
</div>

<script src="script.js"></script>
</body>

</html>